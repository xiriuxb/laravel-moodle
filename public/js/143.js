"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[143],{2101:(t,e,a)=>{a.d(e,{Z:()=>o});var s=a(3645),n=a.n(s)()((function(t){return t[1]}));n.push([t.id,".container[data-v-0dd10121]{align-items:center;display:flex;flex-direction:column;position:relative}",""]);const o=n},6143:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var s=a(5368);const n={layout:a(9881).default,components:{LoadingComponent:s.default},data:function(){return{courses:[],loadingInit:!0,setting:!1,loading:!1,linksToPages:[],searchTerm:"",baseUrl:"/api/admin/cursos-local"}},created:function(){this.loadCourses(),this.debouncedGetAnswer=_.debounce(this.loadCourses,500)},watch:{searchTerm:function(t,e){this.debouncedGetAnswer()}},methods:{loadCourses:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.baseUrl;(this.searchTerm.length>=2||""===this.searchTerm)&&(this.setting=!0,axios.get(e,{params:{search:this.searchTerm}}).then((function(e){t.setting=!1,t.loadingInit=!1,t.linksToPages=e.data.links,t.courses=e.data.data})).catch((function(e){t.$toast.open({message:"Error al cargar los cursos",type:"error",duration:5e3})})))},setDestacado:function(t,e){var a=this;this.setting=!0,axios.post("/api/admin/cursos-local/destacado",{id:t,destacado:e}).then((function(t){a.setting=!1,a.loadCourses()})).catch((function(t){a.setting=!1,a.$toast.open({message:"Error",type:"error",duration:5e3})}))}}};var o=a(3379),r=a.n(o),i=a(2101),c={insert:"head",singleton:!1};r()(i.Z,c);i.Z.locals;const d=(0,a(1900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"adminCourses"}},[a("AppHead",{attrs:{title:"Admin | Matriculas"}}),t._v(" "),a("h2",[t._v("\r\n      Administración de cursos (Local)\r\n  ")]),t._v(" "),a("p",[t._v("En este apartado simplemente puede observar la información básica de los cursos, además de establecer como destacado. \r\n    Si desea modificar la información de los cursos debe hacerlo desde Moodle.\r\n  ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Buscar curso",disabled:t.setting},domProps:{value:t.searchTerm},on:{input:function(e){e.target.composing||(t.searchTerm=e.target.value)}}}),t._v(" "),t.loadingInit?a("loading-component"):a("div",{staticClass:"container"},[t.setting?a("loading-component",{attrs:{backgroundColor:"rgb(0 0 0 / 29%)",width:"100%",height:"100%"}}):t._e(),t._v(" "),a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Id")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Nombre")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Nombre Corto")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Categoria")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Destacado")])])]),t._v(" "),a("tbody",t._l(t.courses,(function(e){return a("tr",{key:e.id},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v("\r\n            "+t._s(e.fullname)+"\r\n          ")]),t._v(" "),a("td",[t._v(t._s(e.shortname))]),t._v(" "),a("td",[t._v(t._s(e.category))]),t._v(" "),a("td",[t._v(t._s("1"==e.destacado?"Si":"No"))]),t._v(" "),a("td",[a("button",{class:1==e.destacado?"btn btn-outline-danger btn-acction":"btn btn-outline-primary btn-acction",attrs:{disabled:t.setting},on:{click:function(a){return a.preventDefault(),t.setDestacado(e.shortname,!e.destacado)}}},[t.setting?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\r\n              "+t._s(1==e.destacado?"No Destacar":"Destacar")+"\r\n            ")])])])})),0)]),t._v(" "),a("nav",{attrs:{"aria-label":"..."}},[a("ul",{staticClass:"pagination"},t._l(t.linksToPages,(function(e){return a("li",{key:e.label,staticClass:"page-item",class:e.active?"page-item active":null==e.url?"page-item disabled":"page-item"},[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){return t.loadCourses(e.url)}}},[a("div",{domProps:{innerHTML:t._s(e.label)}})])])})),0)])],1)],1)}),[],!1,null,"0dd10121",null).exports}}]);