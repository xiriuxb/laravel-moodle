"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[163,219,835],{6710:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(3645),o=a.n(r)()((function(e){return e[1]}));o.push([e.id,".disabled{opacity:.5;pointer-events:none}",""]);const s=o},3851:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(3645),o=a.n(r)()((function(e){return e[1]}));o.push([e.id,"#datosP[data-v-ae13e560]{padding-top:100px}.card-header[data-v-ae13e560]{background-color:#002e45;color:#fff}.card-header .card-title[data-v-ae13e560]{margin-bottom:0}.disabled[data-v-ae13e560]{cursor:not-allowed;pointer-events:none}",""]);const s=o},8219:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});const r={data:function(){return{message:null,loading:!1,form:this.$inertia.form({new_email:"",password:""})}},methods:{saveForm:function(){var e=this;this.$page.props.errors={},this.form.post("/change-email",{onStart:function(){return e.message=""},onSuccess:function(){e.message="Se ha cambiado el correo electrónico",e.form.reset()}})}}};var o=a(3379),s=a.n(o),n=a(6710),i={insert:"head",singleton:!1};s()(n.Z,i);n.Z.locals;const l=(0,a(1900).Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{},[a("a",{staticClass:"inline-block font-medium leading-tight",attrs:{href:"#","data-toggle":"modal","data-target":"#exampleModalCenter"}},[e._v("\n      Cambiar correo\n    ")])]),e._v(" "),a("div",{staticClass:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",attrs:{id:"exampleModalCenter",tabindex:"-1","aria-labelledby":"exampleModalCenterTitle","aria-modal":"true",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered relative w-auto pointer-events-none"},[a("div",{staticClass:"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},[a("div",{staticClass:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[a("h5",{staticClass:"text-xl font-medium leading-normal text-gray-800",attrs:{id:"exampleModalScrollableLabel"}},[e._v("\n            Cambia tu correo electrónico\n          ")]),e._v(" "),a("button",{staticClass:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("box-icon",{attrs:{name:"x"}})],1)]),e._v(" "),a("div",{staticClass:"modal-body relative p-4"},[e.$page.props.errors.new_email?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n            "+e._s(e.$page.props.errors.new_email)+"\n          ")]):e._e(),e._v(" "),e.message?a("div",{staticClass:"alert alert-success"},[e._v("\n            "+e._s(e.message)+"\n          ")]):e._e(),e._v(" "),a("form",{staticClass:"card-body",class:{disabled:e.form.processing},on:{submit:function(t){return t.preventDefault(),e.saveForm.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.new_email,expression:"form.new_email"}],staticClass:"form-control",attrs:{type:"email",id:"inputNewEmail",placeholder:"Escriba su nuevo correo electrónico"},domProps:{value:e.form.new_email},on:{input:function(t){t.target.composing||e.$set(e.form,"new_email",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputOldPassword",placeholder:"Escriba su contraseña"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-danger bg-red-500",attrs:{type:"button",disabled:e.loading,"data-dismiss":"modal"}},[e._v("\n              Cerrar\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary bg-blue-600 text-white font-medium ",attrs:{type:"submit",disabled:e.form.processing||""==e.form.new_email||e.form.password.length<2}},[e._v("\n              Guardar\n              "),e.form.processing?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e()])])])])])])])}),[],!1,null,null,null).exports},9835:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});const r={data:function(){return{form:this.$inertia.form({passwordActual:"",new_password:"",new_password_confirmation:""}),loading:!1,errors:[],message:""}},methods:{updateForm:function(){var e=this;this.$page.props.errors={},this.form.post("/change-password",{onSrart:function(){e.message=""},onSuccess:function(){e.message="Contraseña actualizada",e.form.reset()}})}}};const o=(0,a(1900).Z)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{},[a("a",{staticClass:"inline-block font-medium leading-tight",attrs:{href:"#","data-toggle":"modal","data-target":"#passwordModalCenter"},on:{click:function(t){e.message=""}}},[e._v("\n      Cambiar contraseña\n    ")])]),e._v(" "),a("div",{staticClass:"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto",attrs:{id:"passwordModalCenter",tabindex:"-1","aria-labelledby":"passwordModalCenterTitle","aria-modal":"true",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered relative w-auto pointer-events-none"},[a("div",{staticClass:"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current"},[a("div",{staticClass:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md"},[a("h5",{staticClass:"text-xl font-medium leading-normal text-gray-800",attrs:{id:"passwordModalScrollableLabel"}},[e._v("\n            Cambia tu contraseña\n          ")]),e._v(" "),a("button",{staticClass:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("box-icon",{attrs:{name:"x"}})],1)]),e._v(" "),a("div",{staticClass:"modal-body relative p-4"},[e.$page.props.errors.new_password?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n            "+e._s(e.$page.props.errors.new_password)+"\n          ")]):e._e(),e._v(" "),e.message?a("div",{staticClass:"alert alert-success"},[e._v("\n            "+e._s(e.message)+"\n          ")]):e._e(),e._v(" "),a("form",{class:{disabled:e.form.processing},on:{submit:function(t){return t.preventDefault(),e.updateForm.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.passwordActual,expression:"form.passwordActual"}],staticClass:"form-control",attrs:{type:"password",id:"passwordActual",placeholder:"Escriba su contraseñá actual",required:""},domProps:{value:e.form.passwordActual},on:{input:function(t){t.target.composing||e.$set(e.form,"passwordActual",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.new_password,expression:"form.new_password"}],staticClass:"form-control",attrs:{type:"password",id:"new-password",placeholder:"Escriba su nueva contraseña",required:""},domProps:{value:e.form.new_password},on:{input:function(t){t.target.composing||e.$set(e.form,"new_password",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.new_password_confirmation,expression:"form.new_password_confirmation"}],staticClass:"form-control",attrs:{type:"password","data-vv-as":"new-password",id:"new-password-confirmation",placeholder:"Escriba al contraseña otra vez",required:""},domProps:{value:e.form.new_password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.form,"new_password_confirmation",t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-danger bg-red-500",attrs:{type:"button",disabled:e.loading,"data-dismiss":"modal"}},[e._v("\n              Cerrar\n            ")]),e._v(" "),a("button",{staticClass:"btn btn-primary bg-blue-600",attrs:{type:"submit",disabled:e.form.processing||0==e.form.passwordActual.length}},[e.form.processing?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e._v("\n              Aceptar")])])])])])])])}),[],!1,null,null,null).exports},2163:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(4775),o=a.n(r),s=a(8219),n=a(9835);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r,o,s=[],n=!0,i=!1;try{for(a=a.call(e);!(n=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const d={layout:a(4047).default,components:{vueCountryRegionSelect:o(),ChangeEmailModal2:s.default,ChangePasswordModal2:n.default},props:{user:{type:Object,required:!0},message:{type:String}},computed:{fullname:function(){return this.user.name+" "+this.user.last_name},enableButton:function(){return this.form.country==this.user.country&&this.form.region==this.user.region&&this.form.birth_day===this.user.birth_day},formFiltered:function(){return Object.fromEntries(Object.entries(this.form).filter((function(e){var t=i(e,2);t[0];return""!=t[1]})))}},data:function(){return{form:this.$inertia.form({country:"",region:"",birth_day:""}),loading:!1}},methods:{updateUser:function(){var e=this;this.form.post("/update-user",{onStart:function(){return e.loading=!0},onFinish:function(){return e.loading=!1}})}},created:function(){this.form.country=this.user.country,this.form.region=this.user.region,this.form.birth_day=this.user.birth_day}};var c=a(3379),u=a.n(c),m=a(3851),p={insert:"head",singleton:!1};u()(m.Z,p);m.Z.locals;const f=(0,a(1900).Z)(d,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"profile"}},[a("AppHead",{attrs:{title:"Usuario | Perfil"}}),e._v(" "),a("div",{staticClass:"container",attrs:{id:"datosP"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[e.$page.props.errors.new_email?a("div",{staticClass:"alert alert-danger"},[e._v("\n          Su correo no fue actualizado, por favor intente de nuevo.\n        ")]):e._e(),e._v(" "),e.$page.props.errors.new_password?a("div",{staticClass:"alert alert-danger"},[e._v("\n          Su contraseña no fue actualizada, por favor intente de nuevo.\n        ")]):e._e(),e._v(" "),e.$page.props.flash.message?a("div",{staticClass:"alert alert-success"},[e._v("\n          Su información se actualizó correctamente.\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[e.user.email_verified_at?e._e():a("div",{staticClass:"alert alert-warning"},[e._v("\n              Usted no ha verificado su dirección de correo electrónico, para hacerlo haga click\n              "),a("inertia-link",{staticClass:"text-sky-900",attrs:{href:"/email/verification-notification"}},[e._v("aquí")]),e._v("\n              y siga los pasos.\n            ")],1),e._v(" "),"suspended"==e.$page.props.auth.role?a("div",{staticClass:"alert alert-warning"},[e._v("\n              Actualmente se encuentra suspendido, por lo que no puede realizar algunas acciones, por favor póngase en contacto con nosotros.\n              Tampoco puede acceder al contenido de los cursos en Moodle.\n            ")]):e._e(),e._v(" "),a("form",{class:{disabled:e.loading},attrs:{action:"#",method:"post"},on:{submit:function(t){return t.preventDefault(),e.updateUser.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12 col-sm-6"},[a("label",{attrs:{for:"inputName"}},[e._v("Nombre")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"inputName",placeholder:"Nombre Completo",disabled:""},domProps:{value:e.fullname}})]),e._v(" "),a("div",{staticClass:"form-group col-12 col-sm-6"},[a("label",{attrs:{for:"inputUsername"}},[e._v("Nombre de usuario")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"inputUsername",placeholder:"Nombre de usuario",readonly:""},domProps:{value:e.user.username}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-12 col-sm-6"},[a("label",{attrs:{for:"inputEmail"}},[e._v("Correo electrónico")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"Correo electrónico",disabled:""},domProps:{value:e.user.email}}),e._v(" "),"suspended"!=e.$page.props.auth.role?a("change-email-modal-2"):e._e()],1),e._v(" "),a("div",{staticClass:"form-group col-12 col-sm-6"},[a("label",{attrs:{for:"inputPassword"}},[e._v("Contraseña")]),e._v(" "),a("input",{staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Contraseña",value:"********",disabled:"",readonly:""}}),e._v(" "),"suspended"!=e.$page.props.auth.role?a("change-password-modal-2"):e._e()],1)]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"from-group col-12 col-sm-6"},[a("country-select",{staticClass:"form-control",attrs:{name:"country",id:"country",placeholder:"País",whiteList:["EC"],countryName:!0,autocomplete:!0,removePlaceholder:!1,country:e.user.country},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}})],1),e._v(" "),a("div",{staticClass:"form-group col-12 col-sm-6"},[a("region-select",{staticClass:"form-control",attrs:{region:e.user.region,defaultRegion:"EC",regionName:!0,name:"region",id:"region",placeholder:"Provincia",disabled:!e.form.country},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}})],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"fechaNacimiento"}},[e._v("Día de nacimiento")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.birth_day,expression:"form.birth_day"}],staticClass:"form-control",attrs:{type:"date",placeholder:"Fecha de nacimiento"},domProps:{value:e.form.birth_day},on:{input:function(t){t.target.composing||e.$set(e.form,"birth_day",t.target.value)}}}),e._v(" "),null!=e.$page.props.errors.birth_day?a("div",{staticClass:"alert alert-danger"},[e._v("\n                  "+e._s(e.$page.props.errors.birth_day)+"\n                ")]):e._e()]),e._v(" "),a("div",["suspended"!=e.$page.props.auth.role?a("button",{staticClass:" btn btn-pimary bg-sky-700 text-slate-200m hover:bg-sky-900 hover:text-slate-200",attrs:{type:"submit",disabled:e.enableButton||this.loading}},[e.loading?a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e._v("\n                  Guardar Cambios\n                ")]):e._e()])])]),e._v(" "),a("div",{staticClass:"flex flex-row-reverse pr-2"},["suspended"!=e.$page.props.auth.role?a("inertia-link",{attrs:{href:"/eliminar-cuenta"}},[e._v("Eliminar Cuenta")]):e._e()],1)])])])])],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[e._v("Datos del usuario")])])}],!1,null,"ae13e560",null).exports}}]);