"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[22,27,595],{1734:(a,t,e)=>{e.d(t,{Z:()=>r});var o=e(1519),s=e.n(o)()((function(a){return a[1]}));s.push([a.id,".modal-container[data-v-18efb235]{margin:50px;overflow-x:auto;overflow-y:auto;width:unset}.modal-wrapper[data-v-18efb235]{display:unset}",""]);const r=s},5357:(a,t,e)=>{e.d(t,{Z:()=>r});var o=e(1519),s=e.n(o)()((function(a){return a[1]}));s.push([a.id,".modal-mask[data-v-855cd5dc]{background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;height:100%;left:0;margin:0;min-width:0;padding:12px;position:fixed;top:0;transition:opacity .3s ease;width:100%;z-index:9998}.modal-wrapper[data-v-855cd5dc]{flex:1 1 0;height:calc(100% - 50px);min-height:0;overflow:auto}.modal-wrapper div[data-v-855cd5dc]{margin:auto}",""]);const r=s},2022:(a,t,e)=>{e.r(t),e.d(t,{default:()=>u});var o=e(4595),s=e(698),r=e(1027);const i={layout:s.default,components:{VerPagoModal:o.default,CambiarEstadoMatriculaModalVue:r.default},props:{matriculas:{type:Object,required:!0},user:{type:String,required:!0}},data:function(){return{showPagoModal:!1,pagoSeleccionado:null,showEstadoModal:!1,matriculaSeleccionada:null}},methods:{openModalImage:function(a){this.pagoSeleccionado=a,this.showPagoModal=!0},openModalEstado:function(a){this.matriculaSeleccionada=a,this.showEstadoModal=!0}}};var n=e(3379),l=e.n(n),d=e(1734),c={insert:"head",singleton:!1};l()(d.Z,c);d.Z.locals;const u=(0,e(1900).Z)(i,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("AppHead",{attrs:{title:"Admin | Matriculas/Pagos"}}),a._v(" "),e("h2",[a._v("\n        Administración de matrículas/pagos\n    ")]),a._v(" "),e("div",{staticClass:"modal-body"},[e("div",[e("h3",[a._v("Usuario: "+a._s(a.user))])]),a._v(" "),e("table",{staticClass:"table"},[a._m(0),a._v(" "),a._l(a.matriculas.data,(function(t){return e("tr",{key:t.id},[e("td",[a._v(a._s(t.cursos.fullname))]),a._v(" "),e("td",[e("a",{staticClass:"text-cyan-600 hover:underline cursor-pointer",attrs:{href:"#"},on:{click:function(e){return a.openModalEstado(t)}}},[a._v(a._s(t.estado_matricula.nombre))])]),a._v(" "),e("td",[a._v(a._s(t.pago?t.pago.amount:"Gratuito"))]),a._v(" "),e("td",[a._v(a._s(t.pago?t.pago.payment_id:"Gratuito"))]),a._v(" "),e("td",[t.pago?e("a",{staticClass:"text-cyan-600 hover:underline cursor-pointer",attrs:{href:"#"},on:{click:function(e){return a.openModalImage(t.pago.id)}}},[a._v(a._s(t.pago.file))]):a._e()]),a._v(" "),e("td",[a._v(a._s(t.created_at.substring(0,t.created_at.indexOf("T"))))])])}))],2)]),a._v(" "),e("nav",{attrs:{"aria-label":"..."}},[e("ul",{staticClass:"pagination"},a._l(a.matriculas.links,(function(t){return e("li",{key:t.label,staticClass:"page-item",class:t.active?"page-item active":null==t.url?"page-item disabled":"page-item"},[e("inertia-link",{staticClass:"page-link",attrs:{href:t.url,only:["matriculas"],tabindex:"-1"}},[e("div",{domProps:{innerHTML:a._s(t.label)}})])],1)})),0)]),a._v(" "),a.showPagoModal?e("ver-pago-modal",{attrs:{pago_id:a.pagoSeleccionado},on:{close:function(t){a.showPagoModal=!1}}}):a._e(),a._v(" "),a.showEstadoModal?e("CambiarEstadoMatriculaModalVue",{attrs:{matricula:a.matriculaSeleccionada},on:{close:function(t){a.showEstadoModal=!1}}}):a._e()],1)}),[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("tr",[e("th",[a._v("Curso")]),a._v(" "),e("th",[a._v("Estado")]),a._v(" "),e("th",[a._v("Costo")]),a._v(" "),e("th",[a._v("Pago")]),a._v(" "),e("th",[a._v("Imagen")]),a._v(" "),e("th",[a._v("Fecha")])])}],!1,null,"18efb235",null).exports},1027:(a,t,e)=>{e.r(t),e.d(t,{default:()=>s});const o={props:{matricula:{type:Object,required:!0}},data:function(){return{form:{id:this.matricula.id,password:"",estado:this.matricula.estado_matricula.id},estados:[],error:"",loading:!1}},methods:{changeEstado:function(){var a=this;this.loading=!0,this.error="";axios.put("/api/admin/matriculas",this.form).then((function(t){a.loading=!1,a.$toast.open({message:t.data.matricula,type:"success",duration:5e3})})).catch((function(t){a.loading=!1,a.error=t.response.data.message,a.$toast.open({message:"Error al actualizar",type:"error",duration:5e3})}))}},created:function(){var a=this;this.loading=!0,axios.get("/api/admin/matriculas/estados").then((function(t){a.estados=t.data.estados,a.loading=!1})).catch((function(t){a.loading=!1,a.$toast.open({message:"Error al cargar",type:"error",duration:5e3})}))}};const s=(0,e(1900).Z)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[a._t("header",(function(){return[e("strong",[a._v("Opciones")]),a._v(" "),e("button",{staticClass:"btn",attrs:{disabled:a.loading},on:{click:function(t){return t.preventDefault(),a.$emit("close")}}},[e("box-icon",{attrs:{name:"x"}})],1)]}))],2),a._v(" "),e("div",{staticClass:"modal-body"},[a._t("body",(function(){return[e("div",[e("h3",[a._v("¿Está seguro que desea cambiar el estado de la matrícula?")]),a._v(" "),e("h3",[a._v("Estado actual: "+a._s(a.matricula.estado_matricula.nombre))])]),a._v(" "),a.error?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a._v("\n              "+a._s(a.error)+"\n            ")]):a._e(),a._v(" "),e("form",{staticClass:"card-bodys"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Escriba su contraseña"},domProps:{value:a.form.password},on:{input:function(t){t.target.composing||a.$set(a.form,"password",t.target.value)}}})]),a._v(" "),e("div",{staticClass:"form-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.estado,expression:"form.estado"}],staticClass:"custom-select",attrs:{disabled:a.loading},on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.form,"estado",t.target.multiple?e:e[0])}}},a._l(a.estados,(function(t){return e("option",{domProps:{value:t.id}},[a._v(a._s(t.nombre))])})),0)])])]}))],2),a._v(" "),e("div",{staticClass:"modal-footer"},[a._t("footer",(function(){return[e("button",{staticClass:"btn btn-primary",attrs:{disabled:a.loading},on:{click:function(t){return t.preventDefault(),a.changeEstado()}}},[a.loading?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):a._e(),a._v("\n              Aceptar")])]}))],2)])])])])}),[],!1,null,"6ee0fed3",null).exports},4595:(a,t,e)=>{e.r(t),e.d(t,{default:()=>l});const o={props:{pago_id:{type:Number,required:!0}},data:function(){return{file_url:""}}};var s=e(3379),r=e.n(s),i=e(5357),n={insert:"head",singleton:!1};r()(i.Z,n);i.Z.locals;const l=(0,e(1900).Z)(o,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"d-flex flex-row-reverse"},[e("button",{staticClass:"btn"},[e("box-icon",{attrs:{name:"x",color:"#ffffff"},on:{click:function(t){return a.$emit("close")}}})],1)]),a._v(" "),e("div",{staticClass:"modal-wrapper"},[e("img",{attrs:{src:"/api/admin/matriculas/pendientes/imagen/"+a.pago_id}})])])])}),[],!1,null,"855cd5dc",null).exports}}]);